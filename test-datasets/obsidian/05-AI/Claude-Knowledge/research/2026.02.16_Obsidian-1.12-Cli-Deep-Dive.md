---
type: claude-knowledge
source: aiprojects
source_path: ".claude/agent-output/results/deep-research/2026-02-16_obsidian-1.12-cli-deep-dive.md"
source_category: "deep-research"
synced: 2026-02-17
title: "Deep Research: Obsidian 1.12 CLI -- Complete Technical Reference"
tags:
  - claude-knowledge
  - deep-research
---

# Deep Research: Obsidian 1.12 CLI -- Complete Technical Reference

**Research Date**: 2026-02-16
**Confidence Level**: High (official docs + community testing + source code analysis)
**Sources Consulted**: 18

---

## Executive Summary

The Obsidian 1.12 CLI is a substantial feature that provides terminal control over a running Obsidian instance via Electron IPC. It exposes 100+ commands across 17 categories (files, search, properties, tasks, tags, links, templates, bases, plugins, sync, publishing, themes, workspaces, bookmarks, daily notes, and developer tools). The CLI requires a Catalyst license ($25 one-time) during early access and the Obsidian desktop app running in the background. There is no headless mode -- the CLI is a "remote control" for the GUI app.

For an AIServer where Obsidian may not be running, the official CLI is a poor fit. The better options are: (1) direct file manipulation (current approach), (2) the `davidpp/obsidian-cli` community tool via REST API if Obsidian runs headlessly with Xvfb, or (3) an MCP server bridging to the Local REST API plugin.

---

## 1. Complete Command List

### Syntax Pattern

```
obsidian [vault=<name>] <command> [param=value ...] [flag ...]
```

- Parameters use `key=value` format; quote multi-word values
- Flags are boolean switches (no `=`)
- Multiline content: `\n` for newlines, `\t` for tabs
- Append `--copy` to any command to copy output to clipboard

### General (4 commands)

| Command | Description |
|---------|-------------|
| `help` | List all available commands |
| `version` | Show Obsidian version |
| `reload` | Reload app window |
| `restart` | Restart application |

### File Operations (11 commands)

| Command | Syntax |
|---------|--------|
| `file` | `file [file=<name>\|path=<path>]` -- Show file info |
| `files` | `files [folder=<path>] [ext=<ext>] [total]` -- List vault files |
| `folder` | `folder path=<path> [info=files\|folders\|size]` -- Folder details |
| `folders` | `folders [folder=<path>] [total]` -- List folders |
| `open` | `open [file=<name>\|path=<path>] [newtab]` -- Open file in UI |
| `create` | `create [name=<name>] [path=<path>] [content=<text>] [template=<name>] [overwrite] [silent] [newtab]` |
| `read` | `read [file=<name>\|path=<path>]` -- Display file contents |
| `append` | `append [file=<name>\|path=<path>] content=<text> [inline]` |
| `prepend` | `prepend [file=<name>\|path=<path>] content=<text> [inline]` |
| `move` | `move [file=<name>\|path=<path>] to=<path>` -- Relocate file |
| `delete` | `delete [file=<name>\|path=<path>] [permanent]` -- Trash by default |

### Daily Notes (4 commands)

| Command | Syntax |
|---------|--------|
| `daily` | `daily [paneType=tab\|split\|window] [silent]` -- Open today's note |
| `daily:read` | `daily:read` -- Read daily note contents |
| `daily:append` | `daily:append content=<text> [inline] [silent]` |
| `daily:prepend` | `daily:prepend content=<text> [inline] [silent]` |

### Search (2 commands)

| Command | Syntax |
|---------|--------|
| `search` | `search query=<text> [path=<folder>] [limit=<n>] [format=text\|json] [total] [matches] [case]` |
| `search:open` | `search:open [query=<text>]` -- Open search UI pane |

### Properties / Metadata (5 commands)

| Command | Syntax |
|---------|--------|
| `properties` | `properties [file=\|path=\|name=] [sort=count] [format=yaml\|tsv] [all] [total] [counts]` |
| `property:set` | `property:set name=<key> value=<val> [type=text\|list\|number\|checkbox\|date\|datetime] [file=\|path=]` |
| `property:read` | `property:read name=<key> [file=\|path=]` |
| `property:remove` | `property:remove name=<key> [file=\|path=]` |
| `aliases` | `aliases [file=\|path=] [all] [total] [verbose]` |

### Tags (2 commands)

| Command | Syntax |
|---------|--------|
| `tags` | `tags [file=\|path=] [sort=count] [all] [total] [counts]` |
| `tag` | `tag name=<tag> [total] [verbose]` -- Files with specific tag |

### Tasks (2 commands)

| Command | Syntax |
|---------|--------|
| `tasks` | `tasks [file=\|path=] [status=<char>] [all] [daily] [total] [done] [todo] [verbose]` |
| `task` | `task [ref=<path:line>\|file=\|path=\|line=] [status=<char>] [toggle] [daily] [done] [todo]` |

### Links / Graph (5 commands)

| Command | Syntax |
|---------|--------|
| `backlinks` | `backlinks [file=\|path=] [counts] [total]` |
| `links` | `links [file=\|path=] [total]` -- Outgoing links |
| `unresolved` | `unresolved [total] [counts] [verbose]` -- Broken links |
| `orphans` | `orphans [total] [all]` -- No incoming links |
| `deadends` | `deadends [total] [all]` -- No outgoing links |

### Templates (3 commands)

| Command | Syntax |
|---------|--------|
| `templates` | `templates [total]` -- List available templates |
| `template:read` | `template:read name=<name> [title=<title>] [resolve]` |
| `template:insert` | `template:insert name=<name>` -- Insert at cursor |

### Plugins (7 commands)

| Command | Syntax |
|---------|--------|
| `plugins` | `plugins [filter=core\|community] [versions]` |
| `plugins:enabled` | `plugins:enabled [filter=core\|community] [versions]` |
| `plugins:restrict` | `plugins:restrict [on\|off]` -- Toggle restricted mode |
| `plugin` | `plugin id=<id> [filter=core\|community]` -- Plugin info |
| `plugin:enable` | `plugin:enable id=<id>` |
| `plugin:disable` | `plugin:disable id=<id>` |
| `plugin:install` | `plugin:install id=<id> [enable]` |
| `plugin:uninstall` | `plugin:uninstall id=<id>` |
| `plugin:reload` | `plugin:reload id=<id>` -- For dev testing |

### Themes / Snippets (8 commands)

| Command | Syntax |
|---------|--------|
| `themes` | `themes [versions]` |
| `theme` | `theme [name=<name>]` -- Active or info |
| `theme:set` | `theme:set name=<name>` |
| `theme:install` | `theme:install name=<name> [enable]` |
| `theme:uninstall` | `theme:uninstall name=<name>` |
| `snippets` | `snippets` -- List CSS snippets |
| `snippets:enabled` | `snippets:enabled` |
| `snippet:enable` | `snippet:enable name=<name>` |
| `snippet:disable` | `snippet:disable name=<name>` |

### Bookmarks (2 commands)

| Command | Syntax |
|---------|--------|
| `bookmarks` | `bookmarks [total] [verbose]` |
| `bookmark` | `bookmark [file=\|subpath=\|folder=\|search=\|url=] [title=<title>]` |

### Command Palette / Hotkeys (4 commands)

| Command | Syntax |
|---------|--------|
| `commands` | `commands [filter=<prefix>]` -- List command IDs |
| `command` | `command id=<command-id>` -- Execute a command |
| `hotkeys` | `hotkeys [total] [all] [verbose]` |
| `hotkey` | `hotkey id=<command-id> [verbose]` |

### Workspace / Tabs (7 commands)

| Command | Syntax |
|---------|--------|
| `workspace` | `workspace [ids]` -- Show layout tree |
| `workspaces` | `workspaces [total]` |
| `workspace:save` | `workspace:save name=<name>` |
| `workspace:load` | `workspace:load name=<name>` |
| `workspace:delete` | `workspace:delete name=<name>` |
| `tabs` | `tabs [ids]` |
| `tab:open` | `tab:open [group=<id>] [file=<path>] [view=<type>]` |
| `recents` | `recents [total]` |

### File History / Sync (12 commands)

| Command | Syntax |
|---------|--------|
| `diff` | `diff [file=\|path=] [from=<n>] [to=<n>] [filter=local\|sync]` |
| `history` | `history [file=\|path=]` -- Local history |
| `history:list` | `history:list` -- All files with history |
| `history:read` | `history:read [file=\|path=] [version=<n>]` |
| `history:restore` | `history:restore [file=\|path=] version=<n>` |
| `history:open` | `history:open [file=\|path=]` |
| `sync` | `sync [on\|off]` -- Pause/resume |
| `sync:status` | `sync:status` -- Usage and state |
| `sync:history` | `sync:history [file=\|path=] [total]` |
| `sync:read` | `sync:read [file=\|path=] version=<n>` |
| `sync:restore` | `sync:restore [file=\|path=] version=<n>` |
| `sync:open` | `sync:open [file=\|path=]` |
| `sync:deleted` | `sync:deleted [total]` |

### Publishing (6 commands)

| Command | Syntax |
|---------|--------|
| `publish:site` | `publish:site` -- Site info |
| `publish:list` | `publish:list [total]` |
| `publish:status` | `publish:status [total] [new] [changed] [deleted]` |
| `publish:add` | `publish:add [file=\|path=] [changed]` |
| `publish:remove` | `publish:remove [file=\|path=]` |
| `publish:open` | `publish:open [file=\|path=]` |

### Bases (3 commands)

| Command | Syntax |
|---------|--------|
| `bases` | `bases` -- List .base files |
| `base:views` | `base:views` -- List current base views |
| `base:create` | `base:create [name=<name>] [content=<text>] [silent] [newtab]` |
| `base:query` | `base:query [file=\|path=] [view=<name>] [format=json\|csv\|tsv\|md\|paths]` |

### Developer Tools (10 commands)

| Command | Syntax |
|---------|--------|
| `devtools` | `devtools` -- Toggle Electron dev tools |
| `dev:debug` | `dev:debug [on\|off]` -- Chrome DevTools Protocol |
| `dev:cdp` | `dev:cdp method=<CDP.method> [params=<json>]` -- CDP access |
| `dev:errors` | `dev:errors [clear]` |
| `dev:screenshot` | `dev:screenshot [path=<filename>]` -- Base64 PNG |
| `dev:console` | `dev:console [limit=<n>] [level=log\|warn\|error\|info\|debug] [clear]` |
| `dev:css` | `dev:css selector=<css> [prop=<name>]` |
| `dev:dom` | `dev:dom selector=<css> [attr=\|css=] [total] [text] [inner] [all]` |
| `dev:mobile` | `dev:mobile [on\|off]` |
| `dev:open` | `dev:open` -- Open developer tools |
| `eval` | `eval code=<javascript>` -- Execute JavaScript |

### Utilities (8 commands)

| Command | Syntax |
|---------|--------|
| `random` | `random [folder=<path>] [newtab] [silent]` |
| `random:read` | `random:read [folder=<path>]` |
| `unique` | `unique [name=<text>] [content=<text>] [paneType=tab\|split\|window] [silent]` |
| `vault` | `vault [info=name\|path\|files\|folders\|size]` |
| `vaults` | `vaults [total] [verbose]` |
| `vault:open` | `vault:open name=<name>` -- TUI only |
| `web` | `web url=<url> [newtab]` |
| `wordcount` | `wordcount [file=\|path=] [words] [characters]` |
| `outline` | `outline [file=\|path=] [format=tree\|md] [total]` |

**Total: ~98 commands** across 17 categories.

---

## 2. Authentication / Licensing

### Current State (February 2026)

- **Requires Catalyst license**: $25 one-time purchase
- **Early access feature**: Only available in Obsidian 1.12+ (early access channel)
- **Installer requirement**: Obsidian installer 1.11.7 or later
- **Windows extra step**: Requires `Obsidian.com` terminal redirector file from Discord `#insider-desktop-release`

### Future Availability

- Obsidian's early access features are documented as "planned to be released for free to all users in the future"
- **No specific timeline** has been announced for when the CLI moves to general availability
- Historical precedent: Mobile apps followed this pattern (Catalyst early access -> public release), taking approximately 6-12 months
- The commercial license was recently made optional (Feb 2025), so Obsidian trends toward making features freely available

### How to Enable

1. Update to installer 1.11.7+ and early access version 1.12.x
2. Settings -> General -> Enable "Command line interface"
3. Follow registration prompts
4. Restart terminal for PATH changes

---

## 3. Communication Protocol

### Architecture

The CLI communicates with the running Obsidian Electron process via **IPC (Inter-Process Communication)**, specifically using Electron's built-in `requestSingleInstanceLock()` mechanism, which uses a socket under the hood.

### How It Works

1. CLI process starts
2. Attempts to connect to existing Obsidian instance via Electron's single-instance lock socket
3. Sends command payload over IPC
4. Receives response from the running Obsidian renderer process
5. Outputs to stdout and exits

### Critical Requirement

**Obsidian desktop app must be running.** The CLI is a "remote control" -- it cannot operate without a live Obsidian process to communicate with. If Obsidian is not running, the first CLI command will attempt to launch it.

### Known IPC Issues

1. **Bug: New instance per command** -- Some users report each CLI command spawns a full new Electron instance instead of using IPC (reported Feb 2026). Running 40 `move` commands created ~90 processes. Developer response suggests this may be caused by OS-level IPC blocking, sandboxing, or outdated installers.

2. **Admin terminal issue** -- Running CLI in an admin/root terminal breaks IPC communication. Must use normal user privileges.

3. **Exit code unreliable** -- Commands may return exit code 0 even when they fail. Must parse stdout for `Error:` strings.

---

## 4. `eval` Command (JavaScript Execution)

### Syntax

```bash
obsidian eval code="<javascript>"
```

### Scope and Access

The `eval` command executes JavaScript **in the Obsidian app context**, which means it has access to:

- **`app` object** (same as `window.app` in the console): The global App object that owns everything
  - `app.vault` -- File system operations (read, create, modify, delete, list)
  - `app.workspace` -- UI layout, active file, panes
  - `app.metadataCache` -- Cached frontmatter, links, tags for all files
  - `app.plugins` -- All loaded plugin instances and their APIs
  - `app.plugins.plugins["plugin-id"]` -- Access specific plugin's API
  - `app.commands` -- Registered commands

- **Full Obsidian API**: Everything documented at https://docs.obsidian.md/
- **Plugin APIs**: Can access any enabled plugin's public API via `app.plugins.plugins`
- **Node.js APIs**: Since Obsidian is Electron, Node.js APIs are available
- **DOM access**: Can manipulate the UI DOM

### Examples

```bash
# Get vault name
obsidian eval code="app.vault.getName()"

# List all files
obsidian eval code="app.vault.getFiles().map(f => f.path).join('\n')"

# Get active file path
obsidian eval code="app.workspace.getActiveFile()?.path"

# List installed plugins
obsidian eval code="Object.keys(app.plugins.manifests).join('\n')"

# Read a file's content
obsidian eval code="await app.vault.read(app.vault.getAbstractFileByPath('path/to/file.md'))"

# Execute any registered command
obsidian eval code="app.commands.executeCommandById('daily-notes')"
```

### Safety Warning

This is essentially arbitrary code execution within the Obsidian process. It can:
- Delete files permanently
- Modify any file in the vault
- Access plugin data and settings
- Execute system commands (via Node.js)
- Manipulate the UI

**Agent safety rule**: Never run `eval` without explicit user request.

---

## 5. `property:set` / `property:read` -- Properties

### Supported Types

| Type | Format | Example |
|------|--------|---------|
| `text` | String | `value="hello world"` |
| `number` | Numeric | `value=42` |
| `checkbox` | Boolean | `value=true` or `value=false` |
| `date` | ISO date | `value=2026-02-16` |
| `datetime` | ISO datetime | `value="2026-02-16T10:30:00"` |
| `list` | Comma-separated | `value="item1,item2,item3"` |

### Commands

```bash
# Set a property with explicit type
obsidian property:set name=status value="in-progress" type=text path="my-note.md"

# Set a checkbox property
obsidian property:set name=reviewed value=true type=checkbox path="my-note.md"

# Set a date property
obsidian property:set name=due value=2026-03-01 type=date path="my-note.md"

# Read a specific property
obsidian property:read name=status path="my-note.md"

# Remove a property
obsidian property:remove name=old-field path="my-note.md"

# List all properties for a file
obsidian properties path="my-note.md"

# List all properties vault-wide as TSV (stable for parsing)
obsidian properties all format=tsv

# List with counts (how many files use each property)
obsidian properties all counts sort=count
```

### Gotchas

- **`format=json` returns YAML, not JSON** -- This is a known bug. Use `format=tsv` for reliable machine parsing.
- Without `file=` or `path=`, defaults to the active file in the UI.
- List type values: the exact delimiter/format for setting list-type properties via CLI is not well documented. May need to experiment with comma-separated values.
- Type inference: if you omit `type=`, Obsidian will try to infer the type, which may not always be correct.

---

## 6. Search Capabilities

### Content Search

```bash
# Basic search (plain text output -- file paths only)
obsidian search query="search term"

# Structured JSON with match details (PREFERRED for agents)
obsidian search query="search term" format=json matches

# Scoped to a folder
obsidian search query="search term" path="Projects/" limit=20

# Case-sensitive search
obsidian search query="SearchTerm" case

# Show total count
obsidian search query="search term" total
```

### Query Syntax

The CLI uses Obsidian's built-in search engine, which supports:

| Operator | Function | Example |
|----------|----------|---------|
| (none) | Content search | `query="meeting notes"` |
| `file:` | Search filenames | `query="file:.jpg"` |
| `path:` | Search file paths | `query="path:Daily Notes/2026-01"` |
| `tag:` | Search tags | `query="tag:#work"` |
| `line:` | Match within same line | `query="line:(foo bar)"` |
| `section:` | Match within same section | `query="section:(heading content)"` |
| `block:` | Match within same block | `query="block:(term1 term2)"` |
| Quotes | Exact phrase | `query=\""exact phrase"\"` |
| `-` | Exclude term | `query="meeting -cancelled"` |
| `OR` | Boolean OR | `query="cat OR dog"` |
| `()` | Grouping | `query="(cat OR dog) food"` |
| `/regex/` | Regular expressions | `query="/\d{4}-\d{2}-\d{2}/"` |

### JSON Output Format

When using `format=json matches`:
```json
[
  {
    "file": "path/to/note.md",
    "matches": [
      {"line": 5, "text": "...matching line content..."}
    ]
  }
]
```

### Limitations

- Search quality depends on Obsidian's index being up to date
- No semantic/fuzzy search -- it's literal/regex matching
- Empty results may mean the index hasn't finished building (retry after a moment)

---

## 7. Templates Commands

### What the CLI Can Do

```bash
# List all templates in the configured templates folder
obsidian templates

# Read template source (raw, unprocessed)
obsidian template:read name="Weekly Review"

# Read template with core variables resolved
obsidian template:read name="Weekly Review" resolve

# Insert template at cursor position in active file
obsidian template:insert name="Weekly Review"

# Create a new file from a template
obsidian create name="2026-02-16 Weekly" template="Weekly Review" silent
```

### Core vs Templater

**Core Templates** (built-in):
- The `resolve` flag processes core template variables: `{{date}}`, `{{time}}`, `{{title}}`
- These are the only variables the CLI's `template:read resolve` will process

**Templater Plugin**:
- The CLI's `template:insert` and `create template=` commands insert the template content into the file
- If Templater is configured to "Trigger Templater on new file creation", it will automatically process Templater syntax (`<% %>`) after the CLI creates the file
- However, there is no CLI command to explicitly trigger Templater processing
- **Workaround**: Use `eval` to call Templater's API:
  ```bash
  obsidian eval code="app.plugins.plugins['templater-obsidian']?.templater?.overwrite_active_file_commands()"
  ```

### Bottom Line

The CLI handles **core templates** natively. For **Templater templates**, the CLI can create the file, and if Templater's auto-trigger is enabled, Templater will process it. Otherwise, you need the `eval` workaround.

---

## 8. Automation Use Cases

### Quick Capture Script

```bash
#!/bin/bash
# Append timestamped entry to inbox
obsidian append path="00-Inbox/Quick Capture.md" \
  content="\n- $(date '+%H:%M') $*" silent
```

### Daily Journal Entry

```bash
#!/bin/bash
# Append to today's daily note
obsidian daily:append content="\n## $(date '+%H:%M') Session Notes\n$1"
```

### Batch Property Updates

```bash
#!/bin/bash
# Mark all files in a folder as reviewed
for file in $(obsidian files folder="Projects/Q1" ext=md); do
  obsidian property:set name=reviewed value=true type=checkbox path="$file"
done
```

### AI Agent Vault Query

```bash
# Search and get structured results for AI processing
obsidian search query="project status" format=json matches limit=10
```

### Task Dashboard

```bash
# Get all open tasks vault-wide
obsidian tasks all todo
# Get tasks from daily note
obsidian tasks daily todo
```

### Cron-Based Publishing

```bash
#!/bin/bash
# Auto-publish changed files
obsidian publish:add changed
```

### Graph Analysis

```bash
# Find orphan files (possible cleanup candidates)
obsidian orphans all
# Find broken links
obsidian unresolved total
```

---

## 9. Linux-Specific Details

### Binary Location

| Install Method | Binary Path |
|---------------|-------------|
| .deb package | `/usr/bin/obsidian` |
| AppImage | Wherever you placed it; symlink to `/usr/local/bin/obsidian` |
| Snap | Requires `export XDG_CONFIG_HOME="$HOME/snap/obsidian/current/.config"` |
| Flatpak (system) | `ln -s /var/lib/flatpak/exports/bin/md.obsidian.Obsidian ~/.local/bin/obsidian` |
| Flatpak (user) | `ln -s ~/.local/share/flatpak/exports/bin/md.obsidian.Obsidian ~/.local/bin/obsidian` |

### CLI Registration

The CLI creates a symlink at `/usr/local/bin/obsidian` (requires sudo). For AppImage, it may fall back to `~/.local/bin/obsidian`.

```bash
# Verify symlink
ls -l /usr/local/bin/obsidian

# Manual symlink creation
sudo ln -s /path/to/obsidian /usr/local/bin/obsidian
```

### Headless Linux Setup (Xvfb)

Since the CLI requires a running Obsidian GUI instance, running it on a headless server requires a virtual display.

**Required packages:**
```bash
sudo apt install openbox xvfb python3-xdg x11vnc -y
```

**Systemd services (4 units):**

1. **Xvfb** -- Virtual framebuffer on display :5
```ini
[Unit]
Description=Headless Xvfb for Obsidian GUI

[Service]
User=<youruser>
ExecStart=/usr/bin/Xvfb :5 -extension GLX -screen 0 800x600x16
Type=exec
Restart=on-failure
RestartSec=30s

[Install]
WantedBy=multi-user.target
```

2. **Openbox** -- Minimal window manager
```ini
[Unit]
Description=Headless openbox-session
After=obsidian-headless-xvfb.service

[Service]
User=<youruser>
ExecStart=/usr/bin/openbox-session
Environment="DISPLAY=:5"
Type=exec
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

3. **x11vnc** (optional) -- VNC access for debugging
```ini
[Unit]
Description=VNC for headless Obsidian
After=obsidian-headless-openboxsession.service

[Service]
User=<youruser>
ExecStart=/usr/bin/x11vnc -rfbport 5900 -display :5 -rfbauth ~/.vnc/passwd
Type=exec
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

4. **Obsidian** -- The app itself
```ini
[Unit]
Description=Headless Obsidian
After=obsidian-headless-xvfb.service

[Service]
User=<youruser>
ExecStart=/usr/bin/obsidian
Environment="DISPLAY=:5"
Type=exec
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

### Linux Gotchas

- **No true headless mode**: The CLI does NOT work without a running Obsidian GUI instance. You must use Xvfb or similar.
- **Snap sandboxing**: Can interfere with IPC. May need `XDG_CONFIG_HOME` workaround.
- **Flatpak sandboxing**: Similar IPC issues. The CLI may not be able to communicate with a Flatpak-installed Obsidian from outside the sandbox.
- **Admin/root terminals**: IPC breaks when running from sudo/root. Always use normal user.
- **Wayland**: Untested territory. Xvfb is X11-only; Wayland headless would need `weston --headless` or similar.
- **Resource consumption**: Running Obsidian headlessly via Xvfb consumes significant memory (~500MB+) for what is essentially a remote control interface.

---

## 10. Community CLI Alternatives

### davidpp/obsidian-cli (AI-Optimized)

**Architecture**: External CLI -> HTTP REST API -> Obsidian Local REST API plugin

**Key Differentiators**:
- **JSON-only output** -- every command returns structured JSON with consistent schema
- **Surgical PATCH editing** -- target specific headings or line numbers
- **Multi-vault config** -- `~/.config/obsidian-cli/config.json`
- **Hybrid search** -- Omnisearch (fast) with REST API fallback
- **Auto-metadata** -- `title`, `created_at`, `updated_at` managed automatically
- **Large content support** -- `--from-file` and `--stdin` flags
- **Standalone executable** -- Compiled with Bun, no runtime deps

**Commands**:
| Command | Description |
|---------|-------------|
| `search` | Hybrid Omnisearch + REST API |
| `get` | Read note content + frontmatter |
| `create` | Create note with auto-metadata |
| `patch` | Surgical edit (append, prepend, heading, line) |
| `frontmatter` | Get/set/merge/delete YAML frontmatter |
| `delete` | Delete a note |
| `list` | List files in vault/folder |
| `config` | Manage vault configurations |

**Requirements**:
- Obsidian running with **Local REST API** plugin (port 27123)
- Optional: **Omnisearch** plugin for faster search
- Bun for building (or use standalone binary)

**Strengths vs Official CLI**:
- Designed for AI agents from the ground up
- Consistent JSON output (official CLI has mixed formats)
- Works via HTTP (easier to use over network / from containers)
- More stable for automation (no IPC bugs)

**Weaknesses vs Official CLI**:
- Requires Local REST API plugin setup
- Fewer commands (no tasks, templates, sync, publishing, graph analysis)
- No `eval` equivalent for arbitrary code execution
- Search limited to what REST API / Omnisearch expose

### Obsidian MCP Servers (for AI Agents)

| MCP Server | Approach | Strengths |
|------------|----------|-----------|
| **cyanheads/obsidian-mcp-server** | REST API bridge | Comprehensive (read, write, search, tags, frontmatter). In-memory cache for resilience. |
| **jacksteamdev/obsidian-mcp-tools** | Obsidian plugin | Semantic search, Templater integration. Runs inside Obsidian. |
| **MarkusPfundstein/mcp-obsidian** | REST API | Simple, battle-tested. List, read, search, patch, append. |
| **BoweyLou/obsidian-mcp-server-enhanced** | REST API + Tailscale | Remote access, Tasks plugin integration, natural language dates. |

**All REST API-based MCP servers require**:
- Obsidian running with Local REST API plugin
- API key configured

### Yakitrak/notesmd-cli

**Architecture**: Direct file system access (no Obsidian needed)

**Commands**: open, search-content, list, move, create, update, delete

**Strengths**: Works without Obsidian running. Pure file operations.
**Weaknesses**: No access to Obsidian's index, search, plugins, or metadata cache.

### obsidian-cli (Rust, crates.io)

**Architecture**: Direct file system access

**Commands**: view, open, uri, create, edit, path, properties (notes); create, list, switch, current, path (vaults)

**Strengths**: Fast (Rust), no dependencies.
**Weaknesses**: Limited feature set, no search index access.

---

## Comparison Matrix: Your AIServer Scenario

| Approach | Obsidian Required | Search Quality | Properties | Templates | Templater | JavaScript | Headless |
|----------|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| **Official CLI** | Running (Xvfb) | Excellent (index) | Full | Core + trigger | Via eval | Full eval | Xvfb only |
| **davidpp CLI** | Running + REST API | Good (Omnisearch) | Via frontmatter | No | No | No | Xvfb + plugin |
| **MCP Server** | Running + REST API | Good (REST) | Via REST | Some | Some (mcp-tools) | No | Xvfb + plugin |
| **Direct File** | Not needed | grep/rg | Manual YAML | Manual | No | N/A | Native |
| **notesmd-cli** | Not needed | Basic grep | No | No | No | No | Native |

---

## Recommendations for AIServer Integration

### If Obsidian Will NOT Be Running on AIServer

**Stick with direct file manipulation.** This is the right call. The official CLI and all REST API tools require a running Obsidian instance.

Enhance the current approach with:
1. **Better YAML parsing** for property reads/writes (use a proper YAML library)
2. **Grep-based search** with ripgrep for content search (you already have this)
3. **Template resolution** -- parse `{{date}}`, `{{time}}`, `{{title}}` yourself
4. **Link resolution** -- build a simple wikilink resolver

### If You Want to Run Obsidian Headlessly

Worth considering if you need:
- Obsidian Sync (no other way to use it)
- Plugin-specific features (Dataview queries, Bases, Templater)
- High-quality indexed search

Setup cost: ~30 minutes for Xvfb + systemd services. Resource cost: ~500MB RAM.

Then use either:
- **Official CLI** for maximum capability (when it goes GA)
- **davidpp CLI + REST API** for stable AI-agent-friendly interface

### Hybrid Approach (Recommended)

1. **Default**: Direct file manipulation (current approach) -- works when Obsidian is not running
2. **Enhanced**: If Obsidian is detected running (check IPC or REST API port), use CLI or REST API for index-powered operations (search, backlinks, tags)
3. **Graceful degradation**: Fall back to direct file ops when Obsidian is unavailable

---

## Known Bugs and Gotchas (Critical for Agents)

From community testing (jackal092927/obsidian-official-cli-skills):

| Issue | Naive Command | Correct Command |
|-------|--------------|-----------------|
| Tasks scoped to active file by default | `tasks todo` (returns 0) | `tasks all todo` |
| Tags scoped to active file by default | `tags counts` (empty) | `tags all counts` |
| `format=json` returns YAML for properties | `properties format=json` | `properties format=tsv` |
| Search default is unstructured text | `search query="x"` | `search query="x" format=json matches` |
| `create` opens UI popup | `create name="x"` | `create name="x" silent` |
| Exit codes always 0, even on error | Check `$?` | Parse stdout for `Error:` string |
| `base:views` errors with exit code 0 | Trust exit code | Parse output for error text |

**Silent failure rate**: 22.8% (13/57 test scenarios)
**Material issue rate**: 42.1% (24/57 test scenarios)

---

## Sources

1. [Obsidian CLI Official Documentation](https://help.obsidian.md/cli) -- Primary command reference
2. [Obsidian CLI Bug: Spawns New Instances](https://forum.obsidian.md/t/cli-each-obsidian-move-cli-command-spawns-a-new-full-electron-obsidian-app-instance/111063) -- IPC bug report
3. [Headless Mode Feature Request](https://forum.obsidian.md/t/headless-mode-that-allows-cli-querying-without-gui/111137) -- Community discussion
4. [Headless Obsidian with Xvfb Guide](https://rolle.design/setting-up-a-headless-obsidian-instance-for-syncing) -- Complete setup tutorial
5. [davidpp/obsidian-cli](https://github.com/davidpp/obsidian-cli) -- AI-optimized CLI alternative
6. [jackal092927/obsidian-official-cli-skills](https://github.com/jackal092927/obsidian-official-cli-skills) -- Agent safety skill with gotcha documentation
7. [Obsidian Developer Documentation](https://docs.obsidian.md/Home) -- API reference for eval scope
8. [cyanheads/obsidian-mcp-server](https://github.com/cyanheads/obsidian-mcp-server) -- MCP server for AI agents
9. [jacksteamdev/obsidian-mcp-tools](https://github.com/jacksteamdev/obsidian-mcp-tools) -- MCP with semantic search
10. [MarkusPfundstein/mcp-obsidian](https://github.com/MarkusPfundstein/mcp-obsidian) -- Simple MCP server
11. [Catalyst License Documentation](https://help.obsidian.md/catalyst) -- Licensing details
12. [Early Access Versions](https://help.obsidian.md/early-access) -- Early access process
13. [Obsidian MCP Forum Discussion](https://forum.obsidian.md/t/obsidian-mcp-servers-experiences-and-recommendations/99936) -- User experiences
14. [Headless Sync Feature Request](https://forum.obsidian.md/t/possibility-for-headless-syncing-with-a-cli-daemon/26162) -- Long-running discussion
15. [Obsidian CLI Windows Setup Guide](https://zenn.dev/sora_biz/articles/obsidian-cli-setup-guide?locale=en) -- Platform-specific details
16. [Obsidian Properties Documentation](https://help.obsidian.md/Editing+and+formatting/Properties) -- Property types reference
17. [Yakitrak/notesmd-cli](https://github.com/Yakitrak/notesmd-cli) -- File-system-only CLI
18. [obsidian-cli Rust crate](https://crates.io/crates/obsidian-cli) -- Rust alternative
