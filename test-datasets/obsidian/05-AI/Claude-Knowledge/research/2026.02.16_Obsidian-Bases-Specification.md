---
type: claude-knowledge
source: aiprojects
source_path: ".claude/agent-output/results/deep-research/2026-02-16_obsidian-bases-specification.md"
source_category: "deep-research"
synced: 2026-02-17
title: "Deep Research: Obsidian Bases Complete Specification"
tags:
  - claude-knowledge
  - deep-research
---

# Deep Research: Obsidian Bases Complete Specification

**Research Date**: 2026-02-16
**Confidence Level**: High (primary sources: official Obsidian help repo, obsidian-api TypeScript definitions, obsidian-maps reference implementation)
**Sources Consulted**: 18

## Executive Summary

Obsidian Bases is a core plugin (introduced v1.9, API stable at v1.10) that provides database-like views of vault notes. Bases are stored as `.base` files containing YAML that defines filters, formulas, property display configuration, summaries, and multiple views. The system queries the entire vault by default (no `FROM` clause), narrows results through recursive boolean filters, computes formula properties, and renders through pluggable view types (table, list, cards, map).

The `.base` format is well-specified enough for programmatic generation. The official schema is defined in `BasesConfigFile` in `obsidian.d.ts`, and the complete syntax documentation lives in the obsidian-help GitHub repository. Built-in view types (table, cards, list) store additional config as arbitrary key-value pairs in the view object. Plugin-provided views (like map) register their own typed options.

This report provides the precision needed to generate valid `.base` files programmatically.

---

## 1. The .base File Format

### 1.1 Top-Level Schema

A `.base` file is valid YAML with these top-level keys (all optional):

```yaml
filters:        # BasesConfigFileFilter - global filters applied to all views
formulas:       # Record<string, string> - named formula properties
properties:     # Record<string, Record<string, any>> - property display config
summaries:      # Record<string, string> - named summary formulas
views:          # BasesConfigFileView[] - array of view definitions
```

**TypeScript definition** (`obsidian.d.ts` line 531):

```typescript
export interface BasesConfigFile {
    filters?: BasesConfigFileFilter;
    properties?: Record<string, Record<string, any>>;
    formulas?: Record<string, string>;
    summaries?: Record<string, string>;
    views?: BasesConfigFileView[];
}
```

### 1.2 Complete Example (from official docs)

```yaml
filters:
  or:
    - file.hasTag("tag")
    - and:
        - file.hasTag("book")
        - file.hasLink("Textbook")
    - not:
        - file.hasTag("book")
        - file.inFolder("Required Reading")
formulas:
  formatted_price: 'if(price, price.toFixed(2) + " dollars")'
  ppu: "(price / age).toFixed(2)"
properties:
  status:
    displayName: Status
  formula.formatted_price:
    displayName: "Price"
  file.ext:
    displayName: Extension
summaries:
  customAverage: 'values.mean().round(3)'
views:
  - type: table
    name: "My table"
    limit: 10
    groupBy:
      property: note.age
      direction: DESC
    filters:
      and:
        - 'status != "done"'
        - or:
            - "formula.ppu > 5"
            - "price > 2.1"
    order:
      - file.name
      - file.ext
      - note.age
      - formula.ppu
      - formula.formatted_price
    summaries:
      formula.ppu: Average
```

### 1.3 Embedding in Markdown

Bases can be embedded in notes two ways:

**Wikilink embed:**
```markdown
![[MyBase.base]]
![[MyBase.base#ViewName]]
```

**Inline code block:**
````markdown
```base
filters:
  and:
    - file.hasTag("example")
views:
  - type: table
    name: Table
```
````

---

## 2. Filter System

### 2.1 Filter Structure

Filters are recursive boolean structures. The type is:

```typescript
export type BasesConfigFileFilter = string | {
    and: BasesConfigFileFilter[];
} | {
    or: BasesConfigFileFilter[];
} | {
    not: BasesConfigFileFilter[];
};
```

A filter can be:
- A **string** containing a formula expression that evaluates to truthy/falsey
- An **object** with exactly one key: `and`, `or`, or `not`, containing a list of filters

### 2.2 Filter Placement

Filters appear in two locations:
1. **Global** `filters:` -- applies to all views
2. **Per-view** `filters:` inside a view definition -- applies only to that view

When both exist, they are concatenated with AND during evaluation.

### 2.3 Comparison Operators

| Operator | Description |
|----------|-------------|
| `==` | equals (works on any type) |
| `!=` | not equal (works on any type) |
| `>` | greater than (numbers, dates) |
| `<` | less than (numbers, dates) |
| `>=` | greater than or equal to |
| `<=` | less than or equal to |

### 2.4 Boolean Operators

| Operator | Description |
|----------|-------------|
| `!` | logical NOT |
| `&&` | logical AND |
| `\|\|` | logical OR |

### 2.5 Filter Examples

```yaml
# Simple string filter
filters: 'file.hasTag("book")'

# AND with nested OR
filters:
  and:
    - 'status != "done"'
    - or:
        - "formula.ppu > 5"
        - "price > 2.1"

# Complex nested
filters:
  or:
    - file.hasTag("tag")
    - and:
        - file.hasTag("book")
        - file.hasLink("Textbook")
    - not:
        - file.hasTag("book")
        - file.inFolder("Required Reading")
```

---

## 3. Formula System

### 3.1 Formula Definitions

Formulas are `Record<string, string>` -- name to expression mapping:

```yaml
formulas:
  formatted_price: 'if(price, price.toFixed(2) + " dollars")'
  ppu: "(price / age).toFixed(2)"
  deadline: 'start_date + "2w"'
```

Formulas are always stored as YAML strings. Output type is determined by the expression's return value.

### 3.2 Property Reference Syntax

| Namespace | Syntax | Shorthand | Description |
|-----------|--------|-----------|-------------|
| Note properties | `note.price` or `note["price"]` | `price` | YAML frontmatter properties |
| File properties | `file.name`, `file.mtime` | (none) | Built-in file metadata |
| Formula properties | `formula.formatted_price` | (none) | Other formulas in the base |

**Important**: Omitting the prefix assumes `note.` namespace. Use `formula.` prefix explicitly to avoid naming conflicts.

### 3.3 The `this` Keyword

`this` provides context-aware access to the current file:

| Context | `this` refers to |
|---------|-----------------|
| Main content area | The base file itself |
| Embedded in another note | The embedding file |
| In sidebar | The active file in the main content area |

Usage: `this.file.name`, `this.file.folder`, `file.hasLink(this.file)`

### 3.4 File Properties

| Property | Type | Description |
|----------|------|-------------|
| `file.name` | String | File name |
| `file.path` | String | Full path relative to vault root |
| `file.folder` | String | Parent folder path |
| `file.ext` | String | File extension |
| `file.size` | Number | File size in bytes |
| `file.ctime` | Date | Created time |
| `file.mtime` | Date | Modified time |
| `file.tags` | List | All tags (content + frontmatter) |
| `file.links` | List | All internal links (content + frontmatter) |
| `file.embeds` | List | All embeds in the note |
| `file.backlinks` | List | Backlink files (performance heavy, does not auto-refresh) |
| `file.file` | File | File object (for specific functions) |
| `file.properties` | Object | All properties (does not auto-refresh) |

### 3.5 File Methods

| Method | Signature | Description |
|--------|-----------|-------------|
| `file.asLink()` | `(display?: string): Link` | Return Link object for this file |
| `file.hasLink()` | `(otherFile: file \| string): boolean` | Check if file links to other file |
| `file.hasProperty()` | `(name: string): boolean` | Check if file has property |
| `file.hasTag()` | `(...values: string): boolean` | Check if file has any of the tags (includes nested) |
| `file.inFolder()` | `(folder: string): boolean` | Check if file is in folder or subfolder |

### 3.6 Global Functions

| Function | Signature | Description |
|----------|-----------|-------------|
| `if()` | `(condition, trueResult, falseResult?): any` | Conditional |
| `now()` | `(): date` | Current date+time |
| `today()` | `(): date` | Current date (time zero) |
| `date()` | `(string): date` | Parse "YYYY-MM-DD HH:mm:ss" |
| `duration()` | `(string): duration` | Parse duration string |
| `number()` | `(any): number` | Convert to number |
| `list()` | `(element): List` | Wrap in list if not already |
| `file()` | `(path): file` | Get file object |
| `link()` | `(path, display?): Link` | Create clickable link |
| `image()` | `(path): image` | Return renderable image |
| `icon()` | `(name): icon` | Lucide icon by name |
| `html()` | `(string): html` | Raw HTML snippet |
| `escapeHTML()` | `(string): string` | Escape HTML characters |
| `max()` | `(n1, n2, ...): number` | Largest number |
| `min()` | `(n1, n2, ...): number` | Smallest number |

### 3.7 String Methods

| Method | Signature | Description |
|--------|-----------|-------------|
| `.contains()` | `(value: string): boolean` | Substring check |
| `.containsAll()` | `(...values): boolean` | All substrings present |
| `.containsAny()` | `(...values): boolean` | Any substring present |
| `.startsWith()` | `(value: string): boolean` | Starts with |
| `.endsWith()` | `(value: string): boolean` | Ends with |
| `.lower()` | `(): string` | Lowercase |
| `.title()` | `(): string` | Title case |
| `.trim()` | `(): string` | Strip whitespace |
| `.replace()` | `(pattern, replacement): string` | Replace (string or Regexp) |
| `.repeat()` | `(count: number): string` | Repeat string |
| `.reverse()` | `(): string` | Reverse string |
| `.split()` | `(separator, n?): list` | Split to list |
| `.slice()` | `(start, end?): string` | Extract substring |
| `.isEmpty()` | `(): boolean` | Check empty |
| `.length` | (field) | Character count |

### 3.8 Number Methods

| Method | Signature | Description |
|--------|-----------|-------------|
| `.abs()` | `(): number` | Absolute value |
| `.round()` | `(digits?): number` | Round |
| `.ceil()` | `(): number` | Round up |
| `.floor()` | `(): number` | Round down |
| `.toFixed()` | `(precision): string` | Fixed-point notation |
| `.isEmpty()` | `(): boolean` | Check empty |

### 3.9 Date Fields and Methods

**Fields**: `.year`, `.month`, `.day`, `.hour`, `.minute`, `.second`, `.millisecond`

| Method | Signature | Description |
|--------|-----------|-------------|
| `.format()` | `(format: string): string` | Moment.js format string |
| `.relative()` | `(): string` | Human-readable ("3 days ago") |
| `.date()` | `(): date` | Remove time portion |
| `.time()` | `(): string` | Time as string ("23:59:59") |
| `.isEmpty()` | `(): boolean` | Check empty |

### 3.10 Date Arithmetic

Durations can be added/subtracted from dates:

| Unit | Formats |
|------|---------|
| Year | `y`, `year`, `years` |
| Month | `M`, `month`, `months` |
| Week | `w`, `week`, `weeks` |
| Day | `d`, `day`, `days` |
| Hour | `h`, `hour`, `hours` |
| Minute | `m`, `minute`, `minutes` |
| Second | `s`, `second`, `seconds` |

Examples: `now() + "1 day"`, `file.mtime > now() - "1 week"`, `date("2024-12-01") + "1M" + "4h"`

Subtracting two dates returns milliseconds: `now() - file.ctime`

### 3.11 List Methods

| Method | Signature | Description |
|--------|-----------|-------------|
| `.filter()` | `(expr): list` | Filter using `value` and `index` vars |
| `.map()` | `(expr): list` | Transform using `value` and `index` vars |
| `.reduce()` | `(expr, acc): any` | Reduce using `value`, `index`, `acc` vars |
| `.sort()` | `(): list` | Sort ascending |
| `.unique()` | `(): list` | Remove duplicates |
| `.join()` | `(separator): string` | Join to string |
| `.flat()` | `(): list` | Flatten nested lists |
| `.slice()` | `(start, end?): list` | Extract portion |
| `.reverse()` | `(): list` | Reverse order |
| `.contains()` | `(value): boolean` | Check membership |
| `.containsAll()` | `(...values): boolean` | All present |
| `.containsAny()` | `(...values): boolean` | Any present |
| `.isEmpty()` | `(): boolean` | Check empty |
| `.length` | (field) | Element count |

List method examples:
- `[1,2,3,4].filter(value > 2)` returns `[3,4]`
- `[1,2,3,4].map(value + 1)` returns `[2,3,4,5]`
- `[1,2,3].reduce(acc + value, 0)` returns `6`

### 3.12 Any-Type Methods

Available on all value types:

| Method | Signature | Description |
|--------|-----------|-------------|
| `.isTruthy()` | `(): boolean` | Coerce to boolean |
| `.isType()` | `(type: string): boolean` | Type check |
| `.toString()` | `(): string` | String representation |

### 3.13 Other Type Methods

**Link**: `.asFile(): file`, `.linksTo(file): boolean`

**Object**: `.isEmpty(): boolean`, `.keys(): list`, `.values(): list`

**Regular Expression**: `.matches(value: string): boolean` (e.g., `/abc/.matches("abcde")`)

### 3.14 Data Types

| Type | Syntax | Notes |
|------|--------|-------|
| String | `"hello"` or `'world'` | Single or double quotes |
| Number | `42`, `3.14`, `(2.5)` | Optional parentheses |
| Boolean | `true`, `false` | Without quotes |
| Date | `date("2025-01-01 12:00:00")` | Via function |
| Duration | `"1d"`, `"2w"`, `"3M"` | String format in arithmetic |
| List | `[1, 2, 3]` | Zero-based indexing: `prop[0]` |
| Object | `{"a": 1, "b": 2}` | Dot or bracket access |
| Link | Wikilinks auto-recognized | Or via `link()` function |

---

## 4. Properties Configuration

The `properties` section configures display metadata per property:

```yaml
properties:
  status:
    displayName: Status
  formula.formatted_price:
    displayName: "Price"
  file.ext:
    displayName: Extension
```

**Key format**: Uses the property reference syntax (`note.prop`, `formula.prop`, `file.prop`). The `note.` prefix can be omitted.

**Known sub-keys**:
- `displayName: string` -- display name for column headers, card labels, etc.

Display names are NOT used in filters or formulas -- they are purely cosmetic.

---

## 5. Summaries

### 5.1 Global Summary Definitions

Custom summary formulas defined at root level:

```yaml
summaries:
  customAverage: 'values.mean().round(3)'
```

The `values` keyword is a list of all property values across every note in the result set. The formula should return a single Value.

### 5.2 Default Summary Formulas

| Name | Input Type | Description |
|------|-----------|-------------|
| `Average` | Number | Mathematical mean |
| `Min` | Number | Smallest number |
| `Max` | Number | Largest number |
| `Sum` | Number | Sum of all numbers |
| `Range` | Number | Max minus Min |
| `Median` | Number | Mathematical median |
| `Stddev` | Number | Standard deviation |
| `Earliest` | Date | Earliest date |
| `Latest` | Date | Latest date |
| `Range` | Date | Latest minus Earliest |
| `Checked` | Boolean | Count of `true` values |
| `Unchecked` | Boolean | Count of `false` values |
| `Empty` | Any | Count of empty values |
| `Filled` | Any | Count of non-empty values |
| `Unique` | Any | Count of unique values |

### 5.3 Per-View Summary Assignment

```yaml
views:
  - type: table
    summaries:
      formula.ppu: Average
      note.price: Sum
```

Maps property names to named summary formula names (built-in or custom).

---

## 6. Views

### 6.1 View Schema

```typescript
export interface BasesConfigFileView {
    type: string;                        // View type identifier
    name: string;                        // Display name
    filters?: BasesConfigFileFilter;     // View-specific filters
    groupBy?: {};                        // Group configuration
    order?: string[];                    // Ordered property list
    summaries?: Record<string, string>;  // Property-to-summary mapping
    [key: string]: any;                  // Additional view-type-specific config
}
```

**Core fields** (all view types):

| Field | Type | Description |
|-------|------|-------------|
| `type` | string | `"table"`, `"cards"`, `"list"`, `"map"`, or plugin ID |
| `name` | string | Display name; first view is default for embeds |
| `filters` | BasesConfigFileFilter | View-specific filters (AND with global) |
| `groupBy` | object | `{ property: BasesPropertyId, direction: "ASC" \| "DESC" }` |
| `order` | string[] | Ordered list of property IDs to display |
| `summaries` | Record<string, string> | Property-to-summary mapping |

**Additional fields** are view-type-specific and stored as arbitrary key-value pairs.

### 6.2 Sort Configuration

Sort is stored in the view YAML as:

```yaml
sort:
  - property: file.name
    direction: ASC
  - property: note.date
    direction: DESC
```

TypeScript type:
```typescript
export type BasesSortConfig = {
    property: BasesPropertyId;
    direction: 'ASC' | 'DESC';
};
```

### 6.3 Property ID Format

```typescript
export type BasesPropertyId = `${BasesPropertyType}.${string}`;
export type BasesPropertyType = 'note' | 'formula' | 'file';
```

Examples: `note.status`, `file.name`, `formula.ppu`

In YAML `order` arrays and `sort` configs, use the fully qualified form. In filter/formula strings, shorthand without `note.` prefix is allowed.

### 6.4 Table View

**Type**: `table`
**Since**: Obsidian 1.9

Configuration options (stored as view-level keys):

| Key | Type | Description |
|-----|------|-------------|
| `limit` | number | Maximum rows to display |
| `sort` | BasesSortConfig[] | Sort configuration |
| `columnSize` | Record<string, number> | Column widths in pixels |
| `rowHeight` | string | Row height: `"short"`, `"medium"`, `"tall"`, `"extra-tall"` |

Features:
- Full keyboard navigation (arrow keys, Tab, Enter)
- Copy/paste support (Ctrl+C, Ctrl+V)
- Column summaries (bottom of table or group headers)
- Inline property editing
- Export to CSV, copy to clipboard

### 6.5 Cards View

**Type**: `cards`
**Since**: Obsidian 1.9

Configuration options (stored as view-level keys):

| Key | Type | Description |
|-----|------|-------------|
| `cardSize` | number | Card width |
| `imageProperty` | BasesPropertyId | Property for cover image |
| `imageFit` | string | `"cover"` (fill/crop) or `"contain"` (scale/no-crop) |
| `imageAspectRatio` | string | Aspect ratio (default "1:1") |

Cover images accept:
- Local attachment links: `"[[path/to/image.jpg]]"`
- External URLs
- Hex color codes: `"#ff0000"`

### 6.6 List View

**Type**: `list`
**Since**: Obsidian 1.10

Configuration options:

| Key | Type | Description |
|-----|------|-------------|
| `markers` | string | List marker type: bullets, numbers, or none |
| `indentProperties` | boolean | Nest properties under primary item |
| `separators` | string | Character between properties (default: comma) |

### 6.7 Map View (Plugin: obsidian-maps)

**Type**: `map`
**Since**: Obsidian 1.10 (requires Maps community plugin)

Configuration options (from obsidian-maps source):

| Key | Type | Description |
|-----|------|-------------|
| `coordinates` | BasesPropertyId | Property containing lat/lng |
| `markerIcon` | BasesPropertyId | Property for Lucide icon name |
| `markerColor` | BasesPropertyId | Property for CSS color value |
| `center` | formula/string | Center coordinates formula `[lat, lng]` |
| `defaultZoom` | number | Default zoom level (1-18) |
| `minZoom` | number | Minimum zoom (0-24) |
| `maxZoom` | number | Maximum zoom (0-24) |
| `mapHeight` | number | Embedded height in pixels (200-800) |
| `mapTiles` | string[] | Light mode tile URLs (TileJSON) |
| `mapTilesDark` | string[] | Dark mode tile URLs |

**Example from obsidian-maps:**
```yaml
views:
  - type: map
    name: Map
    order:
      - file.name
      - architect
      - rating
    coordinates: note.coordinates
    markerIcon: note.icon
    markerColor: note.color
    defaultZoom: 12
```

---

## 7. Bases Plugin API

### 7.1 Registering a Custom View

```typescript
// In plugin's onload():
this.registerBasesView('my-view-type', {
    name: 'My Custom View',
    icon: 'lucide-icon-name',
    factory: (controller: QueryController, containerEl: HTMLElement) => {
        return new MyCustomView(controller, containerEl);
    },
    options: (config: BasesViewConfig) => [
        {
            displayName: 'Some Option',
            type: 'slider',
            key: 'myOption',
            min: 0,
            max: 100,
            step: 1,
            default: 50,
        }
    ]
});
```

### 7.2 BasesViewRegistration

```typescript
export interface BasesViewRegistration {
    name: string;                    // Display name in view selector
    icon: IconName;                  // Lucide icon for toolbar
    factory: BasesViewFactory;       // Creates BasesView instances
    options?: (config: BasesViewConfig) => BasesAllOptions[];
}
```

### 7.3 Option Types

| Type | Interface | Key Fields |
|------|-----------|------------|
| `dropdown` | BasesDropdownOption | `options: Record<string, string>`, `default?` |
| `text` | BasesTextOption | `default?`, `placeholder?` |
| `toggle` | BasesToggleOption | `default?: boolean` |
| `slider` | BasesSliderOption | `min`, `max`, `step`, `default?` |
| `property` | BasesPropertyOption | `filter?: (prop) => boolean`, `placeholder?` |
| `file` | BasesFileOption | `filter?: (file) => boolean` |
| `folder` | BasesFolderOption | (none) |
| `formula` | BasesFormulaOption | `placeholder?` |
| `multitext` | BasesMultitextOption | (none) |
| `group` | BasesOptionGroup | `items: BasesOptions[]` (collapsible) |

All options share: `displayName: string`, `key: string`

### 7.4 BasesView Abstract Class

```typescript
export abstract class BasesView extends Component {
    abstract type: string;
    app: App;
    config: BasesViewConfig;
    allProperties: BasesPropertyId[];
    data: BasesQueryResult;
    abstract onDataUpdated(): void;
    createFileForView(baseFileName?, frontmatterProcessor?): Promise<void>;
}
```

### 7.5 BasesViewConfig

```typescript
export class BasesViewConfig {
    name: string;
    get(key: string): unknown;
    getAsPropertyId(key: string): BasesPropertyId | null;
    getEvaluatedFormula(view: BasesView, key: string): Value;
    set(key: string, value: any | null): void;
    getOrder(): BasesPropertyId[];
    getSort(): BasesSortConfig[];
    getDisplayName(propertyId: BasesPropertyId): string;
}
```

### 7.6 BasesQueryResult

```typescript
export class BasesQueryResult {
    data: BasesEntry[];              // Ungrouped entries
    groupedData: BasesEntryGroup[];  // Grouped data
    properties: BasesPropertyId[];   // Visible properties
    getSummaryValue(controller, entries, prop, summaryKey): Value;
}
```

### 7.7 Value Type Hierarchy

Base class `Value` with specializations: `NullValue`, `BooleanValue`, `StringValue`, `DateValue`, `DurationValue`, `ListValue`, `FileValue`, `LinkValue`, `ImageValue`, `IconValue`, `HTMLValue`, `ErrorValue`

Common methods: `toString()`, `isTruthy()`, `equals(other)`

---

## 8. Limitations and Known Gaps

### 8.1 Fundamental Limitations

1. **No note content access** -- Bases can only query frontmatter properties and file metadata. Note body text, headings, and inline content are invisible to Bases.

2. **No task support** -- Cannot aggregate or display tasks/checkboxes from note content (Dataview can).

3. **No inline metadata** -- Dataview's `key:: value` inline syntax is not recognized. All data must be in YAML frontmatter.

4. **No self-contained data** -- Every "row" must be a separate vault file. Cannot store data locally within the base itself.

5. **No `FROM`/source clause** -- Always queries the entire vault. Must use filters (e.g., `file.inFolder()`, `file.hasTag()`) to scope.

6. **Single groupBy** -- Only one property can be used for grouping.

7. **No kanban view** -- Commonly requested but not yet built-in.

8. **`file.backlinks` and `file.properties`** -- Performance heavy, do not auto-refresh when vault changes.

### 8.2 Documentation Gaps

- Built-in table/cards/list views store additional config keys (like `columnSize`, `rowHeight`, `cardSize`, `imageProperty`, `imageFit`, `imageAspectRatio`) that are not formally documented in the YAML syntax reference. They are managed by the GUI and stored as arbitrary key-value pairs in the view object.
- The `sort` key structure within views is not documented in the official syntax page (it works via the toolbar).
- Card view and list view YAML key names are discoverable by configuring through the GUI and inspecting the resulting `.base` file.

### 8.3 Common User Complaints

- No quick search/find within a base view (only persistent filters)
- No template support for the "New" button
- No source/raw mode for editing .base YAML directly in the app
- Limited filter toggling (can't disable without deleting)
- No pagination (only `limit`)
- No PDF export
- No drag-and-drop for card/kanban workflows

---

## 9. Bases vs. Dataview Comparison

| Aspect | Bases | Dataview |
|--------|-------|----------|
| **Type** | Core plugin (built-in) | Community plugin |
| **Status** | Active development | Maintenance only |
| **Interface** | Visual GUI + YAML | Code-only (DQL, JS) |
| **Performance** | Fast (optimized for large vaults) | Slower on large vaults |
| **Data source** | YAML frontmatter only | Frontmatter + inline `key::value` |
| **Note content** | Cannot read body text | Can read body, tasks, links |
| **Task support** | No | Yes (aggregates checkboxes) |
| **Views** | Table, cards, list, map (pluggable) | Table, list, task, calendar (via plugin) |
| **Editing** | Inline editing in views | Read-only display |
| **Custom views** | Plugin API (BasesViewRegistration) | JS rendering only |
| **Query language** | Formula expressions + filters | DQL (SQL-like) + DataviewJS |
| **Extensibility** | View plugins, formula functions (future) | Community has built extensive ecosystem |
| **File format** | `.base` YAML files | `dataview` code blocks |

**Key takeaway**: Bases is not a 1:1 Dataview replacement. It excels at property-based views with visual editing. Dataview is still needed for task aggregation, inline metadata, and body content queries. A hybrid approach is recommended for complex vaults.

---

## 10. Programmatic .base File Generation Guide

### 10.1 Minimal Valid File

```yaml
views:
  - type: table
    name: Table
```

### 10.2 Template: Filtered Table

```yaml
filters:
  and:
    - file.inFolder("Projects")
    - 'status != "archived"'
formulas:
  days_since: '((now() - file.mtime) / 86400000).round()'
properties:
  file.name:
    displayName: Project
  note.status:
    displayName: Status
  formula.days_since:
    displayName: Days Since Edit
views:
  - type: table
    name: Active Projects
    order:
      - file.name
      - note.status
      - note.priority
      - formula.days_since
    sort:
      - property: note.priority
        direction: ASC
    summaries:
      note.priority: Average
```

### 10.3 Template: Card Gallery

```yaml
filters:
  and:
    - file.hasTag("recipe")
formulas:
  total_time: 'prep_time + cook_time'
views:
  - type: cards
    name: Recipe Gallery
    order:
      - file.name
      - note.cuisine
      - note.rating
      - formula.total_time
    imageProperty: note.cover
    imageFit: cover
    imageAspectRatio: "16:9"
    cardSize: 250
```

### 10.4 Template: Map View

```yaml
filters:
  and:
    - file.hasTag("location")
views:
  - type: map
    name: Places
    order:
      - file.name
      - note.category
    coordinates: note.coordinates
    markerIcon: note.icon
    markerColor: note.color
    defaultZoom: 10
    center: "[48.8566, 2.3522]"
```

### 10.5 Template: Multi-View Base

```yaml
filters:
  and:
    - file.inFolder("Tasks")
formulas:
  overdue: 'if(due_date < now() && status != "done", "Overdue", "")'
properties:
  note.status:
    displayName: Status
  note.due_date:
    displayName: Due Date
  formula.overdue:
    displayName: Alert
views:
  - type: table
    name: All Tasks
    order:
      - file.name
      - note.status
      - note.due_date
      - formula.overdue
    sort:
      - property: note.due_date
        direction: ASC
  - type: cards
    name: Task Board
    groupBy:
      property: note.status
      direction: ASC
    order:
      - file.name
      - note.due_date
      - note.priority
  - type: list
    name: Quick List
    order:
      - file.name
      - note.status
```

### 10.6 Validation Rules for Generated Files

1. Must be valid YAML
2. `views` must be a list of objects, each with `type` and `name`
3. `filters` must follow the recursive `BasesConfigFileFilter` structure
4. `formulas` values must be valid formula expression strings (quote them in YAML)
5. `properties` keys use dotted notation (`note.x`, `formula.x`, `file.x`)
6. `order` arrays use fully qualified property IDs
7. `sort` items need both `property` (fully qualified) and `direction` (`ASC`/`DESC`)
8. `groupBy` needs `property` (fully qualified) and `direction`
9. `summaries` map property IDs to summary names (case-sensitive: `Average`, `Sum`, etc.)
10. Nested YAML quotes: use single quotes for formula strings containing double quotes

---

## Sources

1. [Bases syntax - Obsidian Help](https://help.obsidian.md/bases/syntax) -- Official format documentation
2. [GitHub: obsidian-help/en/Bases/Bases syntax.md](https://github.com/obsidianmd/obsidian-help/blob/master/en/Bases/Bases%20syntax.md) -- Authoritative source (raw markdown)
3. [Functions - Obsidian Help](https://help.obsidian.md/bases/functions) -- Complete function reference
4. [GitHub: obsidian-help/en/Bases/Functions.md](https://github.com/obsidianmd/obsidian-help/blob/master/en/Bases/Functions.md) -- Functions raw source
5. [Views - Obsidian Help](https://help.obsidian.md/bases/views) -- View types overview
6. [Cards view - Obsidian Help](https://help.obsidian.md/bases/views/cards) -- Card configuration
7. [Table view - Obsidian Help](https://help.obsidian.md/bases/views/table) -- Table configuration
8. [Map view - Obsidian Help](https://help.obsidian.md/bases/views/map) -- Map configuration
9. [GitHub: obsidian-api/obsidian.d.ts](https://github.com/obsidianmd/obsidian-api/blob/master/obsidian.d.ts) -- TypeScript API definitions
10. [Build a Bases view - Developer Documentation](https://docs.obsidian.md/plugins/guides/bases-view) -- Plugin API guide
11. [GitHub: obsidian-maps](https://github.com/obsidianmd/obsidian-maps) -- Reference implementation for Bases view plugin
12. [DeepWiki: Functions and Formulas](https://deepwiki.com/obsidianmd/obsidian-help/5.2-functions-and-formulas) -- Synthesized function reference
13. [Obsidian Forum: Feature Wishlist Compilation](https://forum.obsidian.md/t/compilation-of-ideas-for-bases-feature-wishlist/108077) -- Community limitations
14. [Obsidian Rocks: Dataview vs Bases](https://obsidian.rocks/dataview-vs-datacore-vs-obsidian-bases/) -- Comparison analysis
15. [The Architect's Guide to Obsidian Bases](https://chughkabir.com/guide-obsidian-bases/) -- Practical examples
16. [Obsidian Forum: Full Bases Documentation](https://forum.obsidian.md/t/full-bases-documentation/104442) -- Documentation gaps discussion
17. [Obsidian Forum: columnSize bug report](https://forum.obsidian.md/t/bases-sorting-a-column-after-expanding-width-of-other-columns-results-in-duplicate-columnsize-entries-in-yaml-and-causes-uncaught-yamlparseerror-map-keys-must-be-unique-at-line-22-column-5/101113) -- Undocumented field evidence
18. [Obsidian Bases Tips and Tricks](https://blog.optional.page/misc/bases/) -- Practical filter/formula patterns

---

## Related Topics for Follow-up Research

- Obsidian Properties system (types, aliases, validation)
- Dataview to Bases migration automation
- Bases formula performance optimization for large vaults
- Custom Bases view plugin development patterns
- Obsidian Publish and Bases (rendering limitations)
