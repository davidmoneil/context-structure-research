---
type: claude-knowledge
source: aiprojects
source_path: "knowledge/notes/research-beads-deep-dive.md"
source_category: "session-knowledge"
synced: 2026-02-17
title: "Deep Research: Beads Issue Tracker Technical Deep-Dive"
tags:
  - claude-knowledge
  - session-knowledge
---

# Deep Research: Beads Issue Tracker Technical Deep-Dive

**Research Date**: 2026-02-05
**Confidence Level**: High (primary sources: GitHub repo, official docs, source code analysis, changelogs)
**Sources Consulted**: 15+
**Beads Version at Time of Research**: v0.49.x (actively developed, ~5000+ stars)

---

## Executive Summary

Beads (`bd`) is a git-backed, dependency-aware issue tracker designed specifically for AI coding agents. Created by Steve Yegge and released in late 2025, it stores issues as JSONL in a `.beads/` directory within any git repo, backed by a SQLite database for fast local queries. The system is mature enough for production use (v0.49.x) with active development, an MIT license, comprehensive CLI with `--json` output on every command, an MCP server, a Claude Code plugin, and a rich community-built TUI viewer.

For our use case, Beads is an excellent fit for session-provenance task tracking, scriptable hooks integration, and zero-token human viewing. Key strengths include the per-issue metadata field (v0.49.2+), comprehensive label system, dependency DAG, and the `--json` output mode on every command. The main gaps are cross-project references (each `.beads/` is isolated) and the fact that custom SQLite table extensions are being deprecated in favor of CLI/JSONL interaction as the project migrates toward Dolt.

---

## 1. Customizability

### Custom Fields / Metadata on Issues

**Yes -- per-issue JSON metadata was added in v0.49.2.**

Issues have an optional `metadata` field that stores arbitrary structured JSON data. This was implemented via `json.RawMessage` in the Go types (v0.49.4), meaning you can store any key-value data:

```bash
# Create an issue and then attach metadata
bd create "Deploy monitoring stack" -t task -p 1 --json
bd update bd-a3f8 --metadata '{"domain": "infrastructure", "session_id": "abc123", "created_by_agent": "claude-session"}'
```

Built-in fields already cover many needs:
- `created_by` -- actor identity (resolved from `--actor` flag, `BD_ACTOR` env, `BEADS_ACTOR` env, `git config user.name`, or `$USER`)
- `external_ref` -- link to external systems
- `notes` -- freeform text (supports `--append-notes` for accumulation)
- `design` -- design notes field
- `acceptance_criteria` -- separate field for done criteria

### Custom Issue Types

**Yes.** Built-in types: `bug`, `feature`, `task`, `epic`, `chore`, `message`, `merge-request`, `molecule`, `gate`, `agent`, `role`, `convoy`.

Custom types are supported when the daemon is running (added in v0.49.0). You can define types beyond the built-ins.

### Custom Workflows / Statuses

**Partially.** Built-in statuses: `open`, `in_progress`, `blocked`, `deferred`, `closed`, `tombstone`, `pinned`, `hooked`.

This is a fixed set -- you cannot define arbitrary custom statuses. However, the combination of statuses + labels + metadata provides enough flexibility to model custom workflows. For example, you could use labels like `severity:critical`, `phase:planning`, `review:pending` to layer additional workflow states on top of the core statuses.

### Configuration File

**Yes.** Two-tier configuration:

1. **Project-level**: `.beads/config.yaml` (version-controlled) or `.beads/config.local.yaml` (local overrides, v0.49.4+)
2. **User-level**: `~/.config/bd/config.yaml`
3. **Database config**: `bd config set/get/list/unset` for runtime settings

```yaml
# .beads/config.yaml example
sync:
  mode: git-portable          # git-portable | realtime | dolt-native | belt-and-suspenders
  branch: beads-sync
  export_on: push              # push | change
  import_on: pull              # pull | change
conflict:
  strategy: newest             # newest | ours | theirs | manual
create:
  require-description: false
validation:
  on-create: warn              # none | warn | error
  on-sync: none
git:
  author: "Claude Agent"
  no-gpg-sign: true
directory:
  labels:                      # monorepo label scoping
    - infrastructure
    - coding
```

### CLI Output Format

**Yes.** Every `bd` command supports `--json` for structured JSON output:

```bash
bd list --status open --json
bd show bd-a3f8 --json
bd ready --json
bd create "Task title" --json   # Returns created issue as JSON
bd stats --json
```

### Labels / Tags

**Yes -- comprehensive label system.**

```bash
# Add labels during creation
bd create "Fix auth bug" -t bug -p 1 -l auth,backend,urgent --json

# Label management
bd label add bd-abc123 security
bd label remove bd-abc123 urgent
bd label list bd-abc123            # Labels on one issue
bd label list-all                  # All labels with counts

# Update labels on existing issues
bd update bd-abc123 --add-labels "domain:infrastructure,session:abc123"
bd update bd-abc123 --remove-labels "urgent"

# Filtering by labels
bd list --label backend,auth       # AND filter (must have ALL)
bd list --label-any frontend,ui    # OR filter (must have AT LEAST ONE)

# Pattern and regex filtering (v0.49.4+)
bd list --label-pattern "tech-*"
bd list --label-regex "tech-(debt|legacy)"
```

---

## 2. Schema & Data Format

### JSONL Format

Issues are stored in `.beads/beads.jsonl` (canonical filename; `issues.jsonl` supported for backward compatibility). One JSON object per line, one entity per line (issues, dependencies, labels, comments, events).

**Reconstructed Issue Schema** (from architecture docs, Go types, and changelog):

```jsonl
{"entity_type":"issue","id":"bd-a3f8","content_hash":"sha256...","title":"Deploy monitoring stack","description":"Set up Prometheus and Grafana for home lab monitoring","design":"","acceptance_criteria":"Services running, dashboards created, alerts configured","notes":"2026-02-05 - Initial planning phase","status":"open","priority":1,"issue_type":"task","assignee":"david","estimated_minutes":120,"created_at":"2026-02-05T10:30:00Z","updated_at":"2026-02-05T10:30:00Z","closed_at":"","close_reason":"","created_by":"claude-session","external_ref":"","labels":["infrastructure","monitoring"],"metadata":{"domain":"infrastructure","session_id":"sess-20260205"},"compaction_level":0}
{"entity_type":"dependency","child_id":"bd-a3f8","parent_id":"bd-b2c4","dep_type":"blocks","created_at":"2026-02-05T10:31:00Z"}
{"entity_type":"comment","issue_id":"bd-a3f8","author":"claude","text":"Reviewed requirements, proceeding with Prometheus setup first","created_at":"2026-02-05T11:00:00Z"}
{"entity_type":"label","issue_id":"bd-a3f8","name":"infrastructure","created_at":"2026-02-05T10:30:00Z"}
```

**Note**: The above is a reconstructed example based on documented fields. Actual format uses `omitempty` on optional fields, so empty/zero fields are excluded from the JSON line.

### Core Issue Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | string | Hash-based ID (e.g., `bd-a3f8`), supports hierarchical (e.g., `bd-a3f8.1.1`) |
| `content_hash` | string | SHA256 of canonical content for change detection |
| `title` | string | Required, max 500 chars |
| `description` | string | Markdown, arbitrary length |
| `design` | string | Design notes (optional) |
| `acceptance_criteria` | string | Done criteria (optional) |
| `notes` | string | Freeform, supports append mode |
| `status` | string | `open` / `in_progress` / `blocked` / `deferred` / `closed` / `tombstone` / `pinned` / `hooked` |
| `priority` | int | 0-4 (0 = highest) |
| `issue_type` | string | `bug` / `feature` / `task` / `epic` / `chore` / etc. |
| `assignee` | string | Optional |
| `estimated_minutes` | int | Optional time estimate |
| `created_at` | string | RFC3339 timestamp |
| `updated_at` | string | RFC3339 timestamp |
| `closed_at` | string | RFC3339, set on close |
| `deleted_at` | string | RFC3339, for tombstoned issues |
| `created_by` | string | Actor identity |
| `close_reason` | string | Explanation on close |
| `external_ref` | string | Link to external systems |
| `labels` | []string | Array of label names |
| `metadata` | json.RawMessage | Arbitrary JSON metadata (v0.49.2+) |
| `compaction_level` | int | Memory decay level |
| `deleted_by` | string | Actor who deleted (tombstones) |
| `delete_reason` | string | Why deleted (tombstones) |
| `original_type` | string | Pre-deletion type (tombstones) |

### Arbitrary Key-Value Metadata

**Yes**, via the `metadata` field (v0.49.2+). Stores arbitrary JSON. Updated via `json.RawMessage` in the Go types, meaning any valid JSON structure works.

### Dependency Storage

Dependencies are stored as separate entities in the JSONL file with their own `entity_type: "dependency"`. Each dependency links a child to a parent with a relationship type.

**Dependency Types**:
- `blocks` -- B blocks A (affects readiness calculation)
- `parent-child` -- Hierarchical relationship (epics to subtasks)
- `related` -- Soft link, informational only
- `discovered-from` -- Contextual origin
- `conditional-blocks` -- B runs only if A fails

```bash
bd dep add bd-a3f8 bd-b2c4           # bd-b2c4 blocks bd-a3f8
bd dep add bd-a3f8 bd-b2c4 --type related
```

### DAG / Graph Model

Beads maintains a full directed acyclic graph of dependencies. The `bd ready` command computes which issues have zero unresolved blockers. The graph supports:

- **Cycle detection** -- identifies circular dependencies
- **Critical path analysis** -- longest dependency chain
- **Topological sort** -- valid execution ordering
- **PageRank / betweenness / HITS** -- importance and bottleneck metrics (computed by beads_viewer)
- **Hub/Authority duality** -- distinguishes epics from utility tasks

---

## 3. Integration & Extensibility

### Hook System

**Yes -- Git hooks for automatic sync.**

```bash
bd hooks install
```

Installs thin git hook shims that delegate to `bd hooks run <hook-name>`:
- **pre-commit**: Flushes pending changes to JSONL before commit
- **post-merge**: Imports JSONL updates after merge/pull
- **post-checkout**: Imports updates after branch switch
- **pre-push**: Exports database to JSONL before push

Hooks are version-safe -- they always execute the installed `bd` version.

Additionally, **beads_viewer** has its own hook system via `.bv/hooks.yaml`:
```yaml
# .bv/hooks.yaml
pre-export:
  command: "validate-issues.sh"
  env:
    CUSTOM_VAR: "value"
post-export:
  command: "notify-team.sh"
```

Hook environment variables: `BV_EXPORT_PATH`, `BV_EXPORT_FORMAT`, `BV_ISSUE_COUNT`, `BV_TIMESTAMP`, plus custom env entries.

### MCP Server

**Yes -- available as `beads-mcp` on PyPI.** Maturity: functional but recommended only for MCP-only environments (Claude Desktop). For Claude Code with shell access, the CLI + hooks approach is preferred (~1-2k tokens vs 10-50k for MCP schemas).

```bash
# Install
uv tool install beads-mcp
# or
pip install beads-mcp
```

**MCP Tools Available**: `init`, `create`, `list`, `ready`, `show`, `update`, `close`, `reopen`, `dep`, `blocked`, `stats`, `set_context`

All tools support optional `workspace_root` parameter for multi-project routing.

**Environment Variables**:
- `BEADS_USE_DAEMON` -- Enable daemon RPC (default: 1)
- `BEADS_PATH` -- Location of bd executable
- `BEADS_DB` -- Database file path
- `BEADS_WORKING_DIR` -- Working directory
- `BEADS_ACTOR` -- Audit trail actor name
- `BEADS_NO_AUTO_FLUSH` -- Disable automatic JSONL sync
- `BEADS_NO_AUTO_IMPORT` -- Disable automatic import

### Claude Code Plugin

Native plugin available:
```
/plugin marketplace add steveyegge/beads
/plugin install beads
```

Exposes slash commands: `/beads:init`, `/beads:ready`, `/beads:create`, `/beads:show`, `/beads:update`, `/beads:close`, `/beads:workflow`, `/beads:stats`, `/beads:version`

### Go Library

**Yes -- usable as a Go import.**

```go
import "github.com/steveyegge/beads"

// Open storage
store, err := beads.NewSQLiteStorage(ctx, ".beads/beads.db")
defer store.Close()

// Access underlying DB for custom queries
db := store.UnderlyingDB()
```

Public API exports: `Issue`, `IssueType`, `Status`, `Label`, `Comment`, `Event`, `EventType`, `Dependency`, `DependencyType`, `BlockedIssue`, `DependencyCounts`, `IssueFilter`, `WorkFilter`, `StaleFilter`, `SortPolicy`, `TreeNode`, `EpicStatus`, `Storage`, `Transaction`

Utility functions: `FindBeadsDir()`, `FindDatabasePath()`, `FindJSONLPath()`, `GetConfiguredBackend()`, `FindAllDatabases()`, `GetRedirectInfo()`

**Important caveat**: The custom SQLite table extension pattern (embedding `beads.Storage` and adding custom tables) is **being deprecated** as Beads migrates to Dolt. Future-proof integrations should use CLI + `--json` output or direct JSONL file interaction.

### CLI for Scripting

Excellent scripting support. Every command supports `--json`:

```bash
# Get ready tasks as JSON array
READY=$(bd ready --limit 1 --json)
ISSUE_ID=$(echo "$READY" | jq -r '.[0].id')

# Create and capture ID
RESULT=$(bd create "New task" -t task -p 2 --json)
NEW_ID=$(echo "$RESULT" | jq -r '.id')

# Update with metadata
bd update "$NEW_ID" --status in_progress --claim

# Close with reason
bd close "$NEW_ID" --reason "Completed in session sess-20260205"
```

### Direct JSONL File Access

**Yes -- external tools can write to JSONL files.** The recommended future-proof pattern (as SQLite extensions deprecate) is to build standalone tools that read/write `.beads/beads.jsonl`. The SQLite database auto-imports from JSONL on the next `bd` command.

However, for **writes**, going through `bd` CLI is safer because it handles:
- Content hash computation
- Hash-based ID generation
- Timestamp management
- Daemon notification
- SQLite cache updates

---

## 4. Multi-Project / Multi-Domain Support

### Organizing by Project/Domain

**Each project gets its own isolated `.beads/` directory.** Cross-project issue references are not supported -- each database is isolated by design.

For multi-domain within a single repo, use **labels** and **directory-aware label scoping** (v0.30.0+):

```yaml
# .beads/config.yaml
directory:
  labels:
    - infrastructure   # Auto-applied when working in infrastructure/ directory
    - coding
    - creative
    - research
```

This enables monorepo-style workflows where subdirectories automatically scope labels.

### Label-Based Filtering

```bash
# Domain filtering
bd list --label infrastructure
bd list --label-any coding,creative
bd list --label-pattern "domain:*"
bd list --label-regex "priority:(critical|high)"

# Combined with status
bd list --status open --label infrastructure --json
bd ready --label infrastructure --json
```

### Custom Views / Saved Filters

No built-in saved filter feature in the CLI. However, this is trivially achieved with shell aliases or scripts:

```bash
# ~/.bashrc or project script
alias bd-infra='bd list --status open --label infrastructure --json'
alias bd-coding='bd list --status open --label coding --json'
alias bd-ready-infra='bd ready --label infrastructure --json'
```

### Boards / Swimlanes

**Not in the CLI, but yes in beads_viewer (bv).** The TUI provides a full Kanban board view with columns: Open, In Progress, Blocked, Closed. See Section 6 for details.

---

## 5. Session Tracking

### Who Created/Modified Issues

**Yes.** The `created_by` field tracks the creator. Actor identity is resolved in order:

1. `--actor` flag on command
2. `BD_ACTOR` environment variable
3. `BEADS_ACTOR` environment variable
4. `git config user.name`
5. `$USER`
6. Fallback: "unknown"

This means you can set session-specific actor names:

```bash
# In a Claude session hook
export BEADS_ACTOR="claude-session-20260205-abc123"
bd create "Task from session" -t task -p 2
```

### Session Metadata Attachment

**Yes**, via the `metadata` field and labels:

```bash
# Using metadata field (v0.49.2+)
bd update bd-a3f8 --metadata '{"claude_session": "sess-20260205-abc123", "model": "opus-4.6", "orchestration_task": "ORCH-007-T3"}'

# Using labels
bd update bd-a3f8 --add-labels "session:20260205,agent:claude"

# Using notes (append mode)
bd update bd-a3f8 --append-notes "Created during infrastructure review session 2026-02-05"
```

### Audit Trail / History

**Yes.** Full event-based audit trail per issue:

**Event Types**: `EventCreated`, `EventUpdated`, `EventStatusChanged`, `EventCommented`, `EventClosed`, `EventReopened`, `EventDependencyAdded`, `EventDependencyRemoved`, `EventLabelAdded`, `EventLabelRemoved`, `EventCompacted`

Events are stored in the SQLite database and exported as entities in the JSONL file. View with:

```bash
bd show bd-a3f8          # Shows full history
bd show bd-a3f8 --json   # Machine-readable history
```

Additionally, since everything is in git, you get full version history via `git log -- .beads/beads.jsonl`.

### Comments / Notes

**Yes -- both supported.**

```bash
# Comments (separate entities with author and timestamp)
bd comment add bd-a3f8 "Reviewed requirements, starting implementation"

# Notes (field on the issue itself)
bd update bd-a3f8 --notes "Full replacement of notes field"
bd update bd-a3f8 --append-notes "Additional context added later"
```

Comments support Markdown rendering (v0.47.1+) with syntax highlighting.

---

## 6. beads_viewer TUI

### Views Available

**Six views** in the `bv` (beads_viewer) TUI:

1. **List View** -- Fast scrollable issue list with split-pane rich details
2. **Kanban Board** -- Column-based workflow: Open | In Progress | Blocked | Closed
3. **Graph View** -- Interactive dependency DAG explorer (custom ASCII/Unicode rendering)
4. **Tree View** -- Hierarchical dependency structure browsing
5. **Insights Dashboard** -- Analytics: 9 graph metrics (PageRank, betweenness, HITS, critical path, eigenvector, degree, density, cycles, topo sort)
6. **History View** -- Timeline correlating git commits with bead modifications (3-pane layout on wide terminals)

### TUI Customization

- **Vim keybindings** (j/k navigation)
- **Filter toggles**: `o` (Open), `c` (Closed), `r` (Ready/unblocked)
- **View switching**: `b` (Kanban), `g` (Graph), `i` (Insights), `h` (History)
- **Actions**: `E` (export), `C` (copy as Markdown), `O` (open editor), `t` (time-travel comparison)
- **Markdown rendering** with syntax highlighting in details pane
- **Nerd Font support** for enhanced display
- **Ultra-wide mode** -- sparklines and label tags on large monitors
- **Live reload** -- watches `.beads/beads.jsonl` for changes

### Filtering/Sorting in TUI

Yes -- filter by status, labels, and readiness state using keyboard toggles. The TUI reads directly from the JSONL file and supports live reload.

### Custom Columns

The TUI displays metadata including: assignees, labels, priority badges, creation dates, blockers, and blocks information. Layout adapts to terminal width. Custom column configuration is not explicitly documented but the display is comprehensive.

### Robot Mode (Non-Interactive / Agent Use)

```bash
bv --robot-triage        # Comprehensive analysis with recommendations
bv --robot-next          # Top pick + claim command
bv --robot-plan          # Parallel execution tracks
bv --robot-insights      # Full graph metrics
bv --robot-graph json    # Dependency export (json/dot/mermaid)
```

Output formats: JSON or TOON (token-optimized notation).

---

## 7. Installation & Requirements

### Go Version

**Go 1.24+** required for building from source or `go install`.

### Installation Methods

| Method | Command | Prerequisites |
|--------|---------|---------------|
| **npm** (recommended) | `npm install -g @beads/bd` | Node.js |
| **Homebrew** | `brew install beads` | Homebrew |
| **Go install** | `go install github.com/steveyegge/beads/cmd/bd@latest` | Go 1.24+ |
| **Quick script** | `curl -fsSL https://raw.githubusercontent.com/steveyegge/beads/main/scripts/install.sh \| bash` | curl, bash |
| **AUR** | `yay -S beads` | Arch Linux |

### Build Dependencies (for Go install / source build on Linux)

```bash
# Debian/Ubuntu
sudo apt-get install -y libicu-dev libzstd-dev

# Fedora/RHEL
sudo dnf install -y libicu-devel libzstd-devel
```

### Runtime Dependencies

- **SQLite**: Embedded (CGO-based, included in binary)
- **Git**: Required for sync operations
- **No network services**: Fully local operation, zero external dependencies at runtime

### Linux Support

**Yes** -- Linux (amd64/arm64), including Ubuntu/Debian, Fedora/RHEL, and Arch. Precompiled binaries available.

### beads_viewer Installation

```bash
# Homebrew
brew install dicklesworthstone/tap/bv

# Direct install script
curl -fsSL "https://raw.githubusercontent.com/Dicklesworthstone/beads_viewer/main/install.sh" | bash
```

Precompiled binaries for Linux x86_64 and ARM64.

---

## 8. Limitations & Gotchas

### Known Issues

1. **JSONL filename confusion**: Historical inconsistency between `beads.jsonl` (current canonical) and `issues.jsonl` (legacy). Code supports both, but documentation had conflicting references.

2. **Git worktree support**: The daemon does not function properly with worktrees. Workaround: `BEADS_NO_DAEMON=1` or `--no-daemon` flag.

3. **Cross-project references**: Not supported. Each `.beads/` directory is an isolated database. You cannot reference issues across projects.

4. **`--no-db` mode broken** (Issue #534): The JSONL-only mode (no SQLite) was reported broken because discovery logic only looks for `.db` files.

5. **SQLite extension deprecation**: The pattern of adding custom tables to the SQLite database is being deprecated as Beads migrates to Dolt. Future extensions should use CLI or JSONL file access.

6. **Multi-agent conflict on same issue**: Last export/commit wins. Mitigate by claiming work with status updates and querying by assignee.

7. **Stale database after git pull**: Running any `bd` command triggers automatic import, but there can be a brief stale window.

### Performance at Scale

- **Typical projects (thousands of issues)**: Commands complete in under 100ms
- **SQLite handles millions of rows** efficiently
- **Very large projects (100k+ issues)**: May benefit from splitting by component
- **Compaction**: `bd admin compact --days 90` removes closed issues older than 90 days from JSONL
- **beads_viewer**: "Browse thousands of issues instantly" with viewport virtualization (only renders visible rows)

### Git Workflow Conflicts

Minimal conflicts. Hash-based IDs (not sequential) prevent merge collisions in multi-agent/multi-branch scenarios. When concurrent branches create new issues, JSONL conflicts are resolved by keeping both lines (both are compatible append-only entries). The git hooks handle automatic sync.

### License

**MIT License** -- fully open source, modification-friendly, no copyleft restrictions.

---

## Fit Assessment

### 1. Multi-Domain Task Tracking (infrastructure, coding, creative, research)

**Fit: STRONG (8/10)**

Labels provide the primary domain-scoping mechanism. Directory-aware label scoping in `config.yaml` enables automatic domain classification. Filtering by labels (`--label`, `--label-any`, `--label-pattern`, `--label-regex`) is comprehensive.

**Gap**: All domains share one `.beads/` database per repo. For truly separate domain tracking, you would either (a) use labels within a single AIProjects beads database, or (b) initialize separate `.beads/` in each project directory. Option (a) is recommended since AIProjects is already the hub.

```bash
# Domain-scoped queries
bd list --label infrastructure --status open --json
bd ready --label-any coding,creative --json
bd list --label-pattern "domain:*" --json
```

### 2. Session Provenance (which Claude session created/modified a task)

**Fit: EXCELLENT (9/10)**

Multiple mechanisms:
- `BEADS_ACTOR` env var can be set per-session to identify the Claude session
- `created_by` field automatically tracks the actor
- `metadata` field (v0.49.2+) can store arbitrary JSON including session IDs, model info, orchestration task IDs
- Labels can encode session info (`session:20260205`)
- `--append-notes` preserves session context chronologically
- Full event audit trail tracks every change

**Integration pattern for our hooks**:
```bash
# In a Claude Code session-start hook:
export BEADS_ACTOR="claude-$(date +%Y%m%d)-${SESSION_ID}"

# When creating tasks:
bd create "Task title" -t task -p 2 \
  -l "domain:infrastructure,session:${SESSION_ID}" \
  --json
```

### 3. Priority Management with Custom Severity Levels

**Fit: GOOD (7/10)**

Built-in priority is 0-4 (0 = highest). This maps well to our severity system:

| Our System | Beads Priority | Label Overlay |
|------------|---------------|---------------|
| `[X] CRITICAL` | 0 | `severity:critical` |
| `[!] HIGH` | 1 | `severity:high` |
| `[~] MEDIUM` | 2 | `severity:medium` |
| `[-] LOW` | 3 | `severity:low` |
| Backlog | 4 | `severity:backlog` |

The `metadata` field can store our exact severity terminology for richer queries.

### 4. Integration with Existing YAML Orchestration System

**Fit: GOOD (7/10)**

Beads does not natively read YAML orchestration files, but the `--json` output mode makes bidirectional bridging straightforward:

```bash
# Bridge script: orchestration YAML to Beads
# Read tasks from orchestration plan, create in beads
yq '.phases[].tasks[]' plan.yaml | while read task; do
  bd create "$task" -t task --json
done

# Bridge script: Beads to orchestration status
bd list --status in_progress --json | jq '.[] | {id, title, status}'
```

The `external_ref` field can link back to orchestration task IDs:
```bash
bd update bd-a3f8 --metadata '{"orchestration_ref": "ORCH-007-T3"}'
```

**Consideration**: This is a bridge/sync pattern, not native integration. Maintaining two sources of truth (YAML + Beads) requires discipline or automation.

### 5. Zero-Token Human Viewing and Management

**Fit: EXCELLENT (10/10)**

This is arguably Beads' strongest selling point for our use case:

- **beads_viewer (bv)**: Full TUI with Kanban, list, graph, tree, insights, and history views -- all local, zero tokens consumed
- **bd CLI**: `bd list`, `bd show`, `bd ready` work directly in terminal
- **Git history**: Full audit trail viewable via standard git tools
- **No web UI needed**: Everything operates locally
- **Robot mode**: `bv --robot-triage` provides analysis without Claude involvement

### 6. Scriptable Bridge for Claude Code Hooks

**Fit: EXCELLENT (9/10)**

The `--json` output on every command, combined with the `BEADS_ACTOR` environment variable and the per-issue metadata field, makes this ideal for hook integration:

```bash
# Example: hook script to create beads issue from orchestration task
RESULT=$(bd create "$TASK_TITLE" -t task -p "$PRIORITY" \
  -l "domain:${DOMAIN},session:${SESSION_ID}" --json)
ISSUE_ID=$(echo "$RESULT" | jq -r '.id')
bd update "$ISSUE_ID" --metadata "{\"session\": \"${SESSION_ID}\", \"plan\": \"${PLAN_ID}\"}"
```

The CLI is fast (sub-100ms), supports `--json` everywhere, and the git hooks handle sync automatically.

---

## Overall Fit Score: 8.3/10

| Requirement | Score | Notes |
|-------------|-------|-------|
| Multi-domain task tracking | 8/10 | Labels + metadata cover it well |
| Session provenance | 9/10 | Multiple strong mechanisms |
| Priority/severity management | 7/10 | 0-4 maps well, labels extend it |
| YAML orchestration integration | 7/10 | Bridge pattern needed, not native |
| Zero-token human viewing | 10/10 | TUI + CLI is exactly what we need |
| Scriptable hook bridge | 9/10 | --json everywhere, fast CLI |

---

## Recommended Implementation Approach

If adopting Beads for AIProjects:

1. **Install**: `npm install -g @beads/bd` + install `bv` from precompiled binary
2. **Initialize**: `cd ~/AIProjects && bd init --quiet`
3. **Configure labels**: Set up domain labels in `.beads/config.yaml`
4. **Set actor**: Add `export BEADS_ACTOR="claude-session"` to session start hooks
5. **Bridge script**: Write a thin wrapper that creates beads issues from orchestration YAML tasks
6. **Daily use**: `bv` for human viewing, `bd ready --json` for Claude, `bd list --label X` for domain filtering
7. **Do NOT use**: SQLite extension pattern (deprecated) -- stick to CLI + JSONL

---

## Sources

1. [steveyegge/beads - GitHub Repository](https://github.com/steveyegge/beads)
2. [Dicklesworthstone/beads_viewer - GitHub Repository](https://github.com/Dicklesworthstone/beads_viewer)
3. [Beads Architecture Documentation](https://github.com/steveyegge/beads/blob/main/docs/ARCHITECTURE.md)
4. [Beads Configuration Documentation](https://github.com/steveyegge/beads/blob/main/docs/CONFIG.md)
5. [Beads FAQ](https://github.com/steveyegge/beads/blob/main/docs/FAQ.md)
6. [Beads Advanced Documentation](https://github.com/steveyegge/beads/blob/main/docs/ADVANCED.md)
7. [Beads EXTENDING.md](https://github.com/steveyegge/beads/blob/main/docs/EXTENDING.md)
8. [Beads Agent Instructions](https://github.com/steveyegge/beads/blob/main/AGENT_INSTRUCTIONS.md)
9. [Beads Plugin Documentation](https://github.com/steveyegge/beads/blob/main/docs/PLUGIN.md)
10. [Beads MCP Server README](https://github.com/steveyegge/beads/blob/main/integrations/beads-mcp/README.md)
11. [Beads CHANGELOG](https://github.com/steveyegge/beads/blob/main/CHANGELOG.md)
12. [Beads Installing Documentation](https://github.com/steveyegge/beads/blob/main/docs/INSTALLING.md)
13. [Beads Claude Code Web Integration](https://github.com/steveyegge/beads/blob/main/npm-package/CLAUDE_CODE_WEB.md)
14. [Beads Go Package - pkg.go.dev](https://pkg.go.dev/github.com/steveyegge/beads)
15. [DeepWiki - steveyegge/beads](https://deepwiki.com/steveyegge/beads)
16. [Introducing Beads - Steve Yegge (Medium)](https://steve-yegge.medium.com/introducing-beads-a-coding-agent-memory-system-637d7d92514a)
17. [Beads Blows Up - Steve Yegge (Medium)](https://steve-yegge.medium.com/beads-blows-up-a0a61bb889b4)
18. [Beads Best Practices - Steve Yegge (Medium)](https://steve-yegge.medium.com/beads-best-practices-2db636b9760c)
19. [beads-mcp on PyPI](https://pypi.org/project/beads-mcp/)
20. [Beads v0.49.0 Release Notes](https://github.com/steveyegge/beads/releases/tag/v0.49.0)
21. [JSONL filename discussion - Issue #396](https://github.com/steveyegge/beads/issues/396)
22. [Beads Memory for Coding Agents - paddo.dev](https://paddo.dev/blog/beads-memory-for-coding-agents/)

---

## Related Topics for Follow-Up Research

- **Beads + Orchestration bridge**: Design a bidirectional sync between YAML orchestration plans and Beads issues
- **Beads Dolt migration**: Track the SQLite-to-Dolt migration timeline and what it means for extensions
- **beads_viewer customization**: Deeper dive into `.bv/hooks.yaml` and robot mode for automated reporting
- **Multi-repo Beads strategy**: How to manage Beads across AIProjects (hub) + individual code projects
- **Beads compaction strategy**: Memory decay settings for long-running projects with thousands of closed issues
